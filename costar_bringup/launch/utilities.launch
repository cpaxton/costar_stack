<launch>

  <arg name="start_robotiq_force_sensor" default="false" doc="(bool) Launch robotiq force sensor."/>
  <arg name="start_instructor" default="true" doc="(bool) Launch user interface."/>
  <arg name="instructor_cases" default="" doc="(string) Limit allowed plugins to specific cases."/>

    <!-- Librarian -->
    <node pkg="librarian_core" type="core.py" name="librarian_core"/>

    <!-- Predicator -->
    <include file="$(find predicator_bringup)/launch/core.launch">
    </include>

    <!-- Smartmove params -->
    <group ns="costar">
      <group ns="smartmove">
        <rosparam param="available_objects">
          - sander_makita
          - node_uniform
          - link_uniform
          - drill
        </rosparam>
        <rosparam param="regions">
          - in_back_of
          - in_front_of
          - right_of
          - left_of
          - up_from
          - down_from
        </rosparam>
        <rosparam param="references">
          - ar_marker_0
          - ar_marker_1
          - ar_marker_2
          - ar_marker_3
          - world
          - table_frame
        </rosparam>
      </group>
    </group>
    <!-- Moveit Environment -->
    <!--<arg name ="tableTFname" default="ar_marker_0" />
    <include file="$(find moveit_collision_environment)/launch/collision_env.launch">
    	<arg name="tableTFname" value ="$(arg tableTFname)"/>
    </include>-->

    <node pkg="point_cloud_recorder" type="point_cloud_recorder.py" name="point_cloud_recorder_service">
      <param name="id" value="costar"/>
    </node>

    <!-- Force sensor -->
    <node if="$(arg start_robotiq_force_sensor)" pkg="robotiq_force_torque_sensor" type="rq_sensor" name="robotiq_force_torque_sensor"/>

    <!-- User interface -->
    <include if="$(arg start_instructor)" file="$(find instructor_core)/launch/instructor.launch">
      <arg name="instructor_cases" value="$(arg instructor_cases)"/>
    </include>

    <!--
    publish new tf frames for any detected objects!
    these should be alternate goals that we may need to deal with
    -->
    <!--<node pkg="object_symmetry_republisher" type="symmetry_republisher.py" name="object_symmetry_republisher_node">
      <remap from="/detected_object_list" to="SPServer/detected_object_list"/>
    </node>-->
</launch>
